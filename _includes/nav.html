<script>
  // Get the theme toggle button
  const toggle = document.getElementById('theme-toggle');

  // Function to apply a theme
  function applyTheme(theme) {
    document.documentElement.setAttribute('data-theme', theme);
    if (toggle) toggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
  }

  // Load saved theme or system preference
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme) {
    applyTheme(savedTheme);
  } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
    applyTheme('dark');
  } else {
    applyTheme('light');
  }

  // Toggle theme when button is clicked
  if (toggle) {
    toggle.addEventListener('click', () => {
      const current = document.documentElement.getAttribute('data-theme');
      const next = current === 'dark' ? 'light' : 'dark';
      applyTheme(next);
      localStorage.setItem('theme', next);
    });
  }
</script>
